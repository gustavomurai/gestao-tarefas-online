/* --------------------------------------------------------------
   Arquivo de estilos do componente de detalhes da tarefa
   Cada bloco abaixo contém explicações claras sobre sua função.
-------------------------------------------------------------- */

/* Variáveis globais de cor, espaçamento e estilo */
:root{
  --card-bg: #fff;
  --muted: #6b7280;
  --label-color: #374151;
  --gap: 14px;
  --radius: 10px;
}

/* Wrapper responsável por centralizar o card na página */
.detalhe-wrap {
  padding: 28px 16px;
  display: flex;
  justify-content: center;
}

/* Card principal contendo todos os detalhes da tarefa */
.detalhe-card {
  width: 100%;
  max-width: 900px;
  background: var(--card-bg);
  box-shadow: none;
  border: 1px solid #58b9aca1;
  border-radius: 10px;
  padding: 20px 22px;
  box-sizing: border-box;

  /* Garante que textos grandes expandam o card sem cortar */
  overflow: visible;
}

/* Cabeçalho com título e subtítulo */
.detalhe-header { margin-bottom: 8px; }
.detalhe-header h1 {
  margin: 0;
  font-size: 20px;
  color: #111827;
  font-weight: 700;
}
.detalhe-sub {
  margin: 6px 0 0;
  color: var(--muted);
  font-size: 13px;
}

/* Corpo que contém todas as linhas de informação */
.detalhe-body { margin-top: 14px; }

/* Grade das linhas que exibem label + valor */
.detalhe-grid {
  display: grid;
  gap: 6px;

  /* Cada linha cresce automaticamente conforme o conteúdo */
  grid-auto-rows: minmax(40px, auto);
}

/* Linhas individuais com label de um lado e valor do outro */
.det-row {
  display: grid;
  grid-template-columns: 170px 1fr;
  gap: 12px;
  align-items: start; /* Garante alinhamento no topo */
  padding: 12px 8px;
  border-bottom: 1px dashed rgba(0,0,0,0.06);
  box-sizing: border-box;
}

/* Estilização do texto do label */
.label {
  color: var(--label-color);
  font-weight: 700;
}

/* Área do valor, onde ocorrem problemas com textos grandes */
.value {
  color: #111827;
  font-size: 15px;
  line-height: 1.5;

  /* Permite quebra natural e preserva quebras existentes */
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  word-wrap: break-word;
  hyphens: auto;
}

/* Estilos específicos da descrição — a parte mais crítica */
.value-description {
  margin-right: 4px;
  word-break: normal;
  overflow: visible;
}

/* Classe opcional para quebra agressiva quando texto é gigantesco */
.value-description .break-extreme,
.value-description-extreme {
  word-break: break-all;
}

/* Aplica destaque ao título */
.value-title {
  color: #0d6efd;
  font-weight: 700;
}
.title-link { color: inherit; text-decoration: none; }
.title-link:hover { text-decoration: underline; }

/* Badges usadas para status e prioridade */
.badge {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 13px;
  color: #fff;
}

/* Cores para cada status */
.badge-pendente { background: #f59e0b; }
.badge-andamento { background: #0d6efd; }
.badge-concluida { background: #10b981; }

/* Cores para prioridade */
.pri-alta { background: #ef4444; }
.pri-media { background: #f59e0b; }
.pri-baixa { background: #10b981; }

/* Rodapé com botões */
.detalhe-footer {
  margin-top: 20px;
  display: flex;
  justify-content: flex-start;
}
.actions { display:flex; gap:12px; align-items:center; }

/* Botões gerais */
.btn {
  border: none;
  padding: 9px 14px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  font-size: 14px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.btn:active { transform: translateY(1px); }

.btn-primary { background: #0d6efd; color: #fff; border: none; box-shadow: none; }
.btn-neutral { background: #6c757d; color: #fff; border: none; box-shadow: none; }
.btn-danger { background: #dc3545; color: #fff; border: none; box-shadow: none; }

/* Exibição enquanto a tarefa está carregando */
.loading .detalhe-card { text-align:center; padding: 40px; color: var(--muted); }

/* Mobile: transforma a linha em 1 coluna */
@media (max-width: 720px) {
  .det-row { grid-template-columns: 1fr; }
  .label { margin-bottom: 6px; }
  .detalhe-card { padding: 14px; }
  .detalhe-wrap { padding: 18px 12px; }
}

/* --------------------------------------------------------------
   Regras FORÇADAS para garantir quebra de linha sempre,
   mesmo quando textos são muito longos e sem espaços.
   Essas regras resolvem o problema do conteúdo extravasar o card.
-------------------------------------------------------------- */
.detalhe-card .detalhe-grid .det-row .value,
.detalhe-card .detalhe-grid .det-row .value *,
.detalhe-card .value-description,
.detalhe-card .value-description span {
  white-space: normal !important;
  overflow-wrap: anywhere !important;
  word-wrap: break-word !important;
  word-break: break-all !important;
  hyphens: auto !important;
  display: block !important;
}

/* Garante que o container sempre cresça verticalmente */
.detalhe-card, 
.detalhe-card .detalhe-grid,
.detalhe-card .det-row {
  overflow: visible !important;
  min-height: 0 !important;
}

/* Evita comportamento inesperado em spans ou pseudo-elementos */
.detalhe-card .detalhe-grid .value span,
.detalhe-card .detalhe-grid .value::before,
.detalhe-card .detalhe-grid .value::after {
  white-space: normal !important;
}

/* Limita a largura do texto para forçar wrap */
.detalhe-card .detalhe-grid .value {
  max-width: 100% !important;
}
